<!doctype html><html><head><title>Apache ShenYu Code Conduct · ShenYu</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="The girl on the prairie"><meta name=generator content="Hugo 0.55.5"><link rel="shortcut icon" href=/img/favicon.png type=image/png><link href=https://unpkg.com/purecss@1.0.0/build/base-min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/zoom-image.css rel=stylesheet><script src=/js/iconfont.js></script><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>window.SITE_LANGUAGE="zh"</script><script src=/js/app.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-187960192-2','auto');ga('send','pageview');}</script></head><body><header class=ss-header><nav class=navbar role=navigation aria-label="main navigation"><div class=navbar-brand><a class=logo-link style=font-size:25px;margin-right:50px href=/zh/><img class=logo src=/img/logo/apache-shenyu.png></a><div class=-show-mobile><a id=mobile-menu-icon><svg class="icon" aria-hidden="true"><use xlink:href="#icon-menu"/></svg></a><nav id=mobile-menu><div id=js-menu-search-mobile class=navbar-search-mobile><input class=input placeholder=请输入要搜索的关键词><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div><a href=/zh/projects/shenyu/download/><span>下载</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/projects/shenyu/overview/><span>文档</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/community/code-conduct/><span>社区</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/news/><span>新闻</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/awesome/><span>Awesome</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/community/code-conduct/><span>English</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-transfer"/></svg></a></nav></div></div><div class="navbar-menu -hidden-mobile"><div class=navbar-start><a class=navbar-item href=/zh/projects/shenyu/download/>下载</a>
<a class=navbar-item href=/zh/projects/shenyu/overview/>文档</a>
<a class="navbar-item  -active" href=/zh/community/code-conduct/>社区</a>
<a class=navbar-item href=/zh/news/>新闻</a>
<a class=navbar-item href=/zh/awesome/>Awesome</a>
<span class="navbar-item nav-hover"><a>Links</a><div class=dropdown-menu><a class=dropdown-item href=https://www.apache.org/>Apache Software Foundation</a>
<a class=dropdown-item href=https://github.com/apache/incubator-shenyu/issues>GitHub Issue Tracker</a>
<a class=dropdown-item href=https://www.apache.org/>License</a>
<a class=dropdown-item href=http://www.apache.org/events/current-event>Apache Events</a>
<a class=dropdown-item href=https://www.apache.org/licenses/>Security</a>
<a class=dropdown-item href=http://www.apache.org/foundation/sponsorship.html>Sponsor and Donate</a>
<a class=dropdown-item href=http://www.apache.org/foundation/thanks.html>Thanks</a></div></span></div><div class=navbar-end><div class=navbar-item><div id=js-menu-search class=navbar-search><input class=input placeholder=请输入要搜索的关键词><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div></div><div class=navbar-item><a class=translation href=/community/code-conduct/>En</a></div></div></div></nav></header><div class=ss-layout-container><aside class="ss-layout-aside -left ss-card -soft-hidden"><div id=js-drawer class=ss-toc><div id=js-drawer-handle class=drawer-handle><svg class="icon icon-menu" aria-hidden="true"><use xlink:href="#icon-menu"/></svg><svg class="icon icon-close" aria-hidden="true"><use xlink:href="#icon-close"/></svg></div><div class=drawer-body><div class=header title="Apache ShenYu社区">社区</div><div class=body><ul class=leaf-section><li class=item><div class=link><a title=订阅邮件 href=/zh/community/subscribe-email>订阅邮件</a></div></li><li class=item><div class="link -current"><a title=代码规范 href=/zh/community/code-conduct>代码规范</a></div></li><li class=item><div class=link><a title=Issue与PR规范 href=/zh/community/issue-pr>Issue与PR规范</a></div></li><li class=item><div class=link><a title=Contributor指南 href=/zh/community/contributor>Contributor指南</a></div></li><li class=item><div class=link><a title=Committer指南 href=/zh/community/committer>Committer指南</a></div></li><li class=item><div class=link><a title=发布指南 href=/zh/community/release>发布指南</a></div></li><li class=item><div class=link><a title=提名Committer href=/zh/community/vote-committer>提名Committer</a></div></li><li class=item><div class=link><a title=开通双因素认证 href=/zh/community/2fa>开通双因素认证</a></div></li><li class=item><div class=link><a title=签署ICLA href=/zh/community/icla>签署ICLA</a></div></li></ul></div></div></div></aside><main class="ss-layout-main -card"><div class=ss-meta><div class=container><h1 class=title>Apache ShenYu Code Conduct</h1><a class="edit-button -hidden-mobile" href=https://github.com/apache/incubator-shenyu-website/edit/main/content/zh/community/code-conduct/index.md>编辑</a></div><div class=meta>更新时间: 2021-07-27</div></div><article class=typo><h2 id=开发理念>开发理念</h2><ul><li><strong>用心</strong> 保持责任心和敬畏心，以工匠精神持续雕琢。</li><li><strong>可读</strong> 代码无歧义，通过阅读而非调试手段浮现代码意图。</li><li><strong>整洁</strong> 认同《重构》和《代码整洁之道》的理念，追求整洁优雅代码。</li><li><strong>一致</strong> 代码风格、命名以及使用方式保持完全一致。</li><li><strong>精简</strong> 极简代码，以最少的代码表达最正确的意思。高度复用，无重复代码和配置。及时删除无用代码。</li><li><strong>抽象</strong> 层次划分清晰，概念提炼合理。保持方法、类、包以及模块处于同一抽象层级。</li></ul><h2 id=代码提交行为规范>代码提交行为规范</h2><ul><li>确保通过全部测试用例，确保执行<code>./mvnw clean install</code>可以编译和测试通过。</li><li>确保覆盖率不低于master分支。</li><li>确保使用Checkstyle检查代码，违反验证规则的需要有特殊理由。模板位置在<code>https://github.com/apache/incubator-shenyu/blob/master/script/shenyu_checkstyle.xml</code>，请使用checkstyle 8.8运行规则。</li><li>应尽量将设计精细化拆分；做到小幅度修改，多次数提交，但应保证提交的完整性。</li><li>确保遵守编码规范。</li></ul><h2 id=编码规范>编码规范</h2><ul><li>使用linux换行符。</li><li>缩进（包含空行）和上一行保持一致。</li><li>类声明后与下面的变量或方法之间需要空一行。</li><li>不应有无意义的空行。请提炼私有方法，代替方法体过长或代码段逻辑闭环而采用的空行间隔。</li><li>类、方法和变量的命名要做到顾名思义，避免使用缩写。</li><li>返回值变量使用<code>result</code>命名；循环中使用<code>each</code>命名循环变量；map中使用<code>entry</code>代替<code>each</code>。</li><li>配置文件使用<code>Spinal Case</code>命名（一种使用<code>-</code>分割单词的特殊<code>Snake Case</code>）。</li><li>需要注释解释的代码尽量提成小方法，用方法名称解释。</li><li><code>equals</code>和<code>==</code>条件表达式中，常量在左，变量在右；大于小于等条件表达式中，变量在左，常量在右。</li><li>除了构造器入参与全局变量名称相同的赋值语句外，避免使用<code>this</code>修饰符。</li><li>除了用于继承的抽象类之外，尽量将类设计为<code>final</code>。</li><li>嵌套循环尽量提成方法。</li><li>成员变量定义顺序以及参数传递顺序在各个类和方法中保持一致。</li><li>优先使用卫语句。</li><li>类和方法的访问权限控制为最小。</li><li>方法所用到的私有方法应紧跟该方法，如果有多个私有方法，书写私有方法应与私有方法在原方法的出现顺序相同。</li><li>方法入参和返回值不允许为<code>null</code>。</li><li>优先使用三目运算符代替if else的返回和赋值语句。</li><li>优先考虑使用<code>LinkedList</code>，只有在需要通过下标获取集合中元素值时再使用<code>ArrayList</code>。</li><li><code>ArrayList</code>，<code>HashMap</code>等可能产生扩容的集合类型必须指定集合初始大小，避免扩容。</li><li>日志与注释一律使用英文。</li><li>注释只能包含javadoc，todo和fixme。</li><li>公开的类和方法必须有javadoc，其他类和方法以及覆盖自父类的方法无需javadoc。</li></ul><h2 id=单元测试规范>单元测试规范</h2><ul><li>测试代码和生产代码需遵守相同代码规范。</li><li>单元测试需遵循AIR（Automatic, Independent, Repeatable）设计理念。<ul><li>自动化（Automatic）：单元测试应全自动执行，而非交互式。禁止人工检查输出结果，不允许使用<code>System.out</code>，<code>log</code>等，必须使用断言进行验证。</li><li>独立性（Independent）：禁止单元测试用例间的互相调用，禁止依赖执行的先后次序。每个单元测试均可独立运行。</li><li>可重复执行（Repeatable）：单元测试不能受到外界环境的影响，可以重复执行。</li></ul></li><li>单元测试需遵循BCDE（Border, Correct, Design, Error）设计原则。<ul><li>边界值测试（Border）：通过循环边界、特殊数值、数据顺序等边界的输入，得到预期结果。</li><li>正确性测试（Correct）：通过正确的输入，得到预期结果。</li><li>合理性设计（Design）：与生产代码设计相结合，设计高质量的单元测试。</li><li>容错性测试（Error）：通过非法数据、异常流程等错误的输入，得到预期结果。</li></ul></li><li>如无特殊理由，测试需全覆盖。</li><li>每个测试用例需精确断言。</li><li>准备环境的代码和测试代码分离。</li><li>只有junit <code>Assert</code>，hamcrest <code>CoreMatchers</code>，Mockito相关可以使用static import。</li><li>单数据断言，应使用<code>assertTrue</code>，<code>assertFalse</code>，<code>assertNull</code>和<code>assertNotNull</code>。</li><li>多数据断言，应使用<code>assertThat</code>。</li><li>精确断言，尽量不使用<code>not</code>，<code>containsString</code>断言。</li><li>测试用例的真实值应名为为actualXXX，期望值应命名为expectedXXX。</li><li>测试类和<code>@Test</code>标注的方法无需javadoc。</li></ul></article></main></div><footer class=ss-footer><div class=container><div class=links><div class="cate  -show-mobile"><h2 class=cate-title>Apache</h2><a class=link href=https://www.apache.org/>Foundation</a>
<a class=link href=https://github.com/apache/incubator-shenyu/issues>GitHub Issue Tracker</a>
<a class=link href=https://www.apache.org/licenses/>License</a>
<a class=link href=https://www.apache.org/security/>Security</a>
<a class=link href=http://www.apache.org/events/current-event>Events</a>
<a class=link href=http://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
<a class=link href=http://www.apache.org/foundation/thanks.html>Thanks</a></div><div class=cate><h2 class=cate-title>资源</h2><a class=link href=https://github.com/apache/incubator-shenyu>Github</a>
<a class=link href=/zh/projects/shenyu/overview/>文档</a></div><div class=cate><h2 class=cate-title>参与进来</h2><a class=link href=https://github.com/apache/incubator-shenyu/issues/new>反馈</a>
<a class=link href=/zh/community>社区</a>
<a class=link href=/zh/news>新闻</a></div><div class=cate><h2 class=cate-title>订阅邮件组</h2><a class=link href=/zh/community/subscribe-email/>如何订阅</a>
<a class=link href=mailto://dev-subscribe@shenyu.apache.org>订阅邮件</a>
<a class=link href=https://lists.apache.org/list.html?dev@shenyu.apache.org>邮件归档</a></div></div><div class=qrcode><div><img class=qrcode-img src=/img/qrcode/WechatIMG127.jpeg><p class=qrcode-desc>微信公众号</p></div></div></div><div class=copyright><p>Copyright © 2021 The Apache Software Foundation. Licensed under the Apache License, Version 2.0.
Apache ShenYu, Apache Incubator, Apache, the Apache feather logo, the Apache EventMesh logo and the Apache Incubator project logo are trademarks of The Apache Software Foundation.
Apache ShenYu is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator.
Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects.
While incubation status is not necessarily a reflection of the completeness or stability of the code,
it does indicate that the project has yet to be fully endorsed by the ASF.</p></div></footer></body></html>