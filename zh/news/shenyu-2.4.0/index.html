<!doctype html><html><head><title>【发布Apache首个版本-2.4.0】让API网关变得简单 · Apache ShenYu</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="The girl on the prairie"><meta name=generator content="Hugo 0.55.5"><link rel="shortcut icon" href=/img/favicon.png type=image/png><link href=https://unpkg.com/purecss@1.0.0/build/base-min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/zoom-image.css rel=stylesheet><script src=/js/iconfont.js></script><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>window.SITE_LANGUAGE="zh"</script><script src=/js/app.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-187960192-2','auto');ga('send','pageview');}</script></head><body><header class=ss-header><nav class=navbar role=navigation aria-label="main navigation"><div class=navbar-brand><a class=logo-link style=font-size:25px;margin-right:50px href=/zh/><img class=logo src=/img/logo/apache-shenyu.png></a><div class=-show-mobile><a id=mobile-menu-icon><svg class="icon" aria-hidden="true"><use xlink:href="#icon-menu"/></svg></a><nav id=mobile-menu><div id=js-menu-search-mobile class=navbar-search-mobile><input class=input placeholder=请输入要搜索的关键词><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div><a href=/zh/projects/shenyu/download/><span>下载</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/projects/shenyu/overview/><span>文档</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/community/subscribe-email/><span>社区</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/news/><span>新闻</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a></nav></div></div><div class="navbar-menu -hidden-mobile"><div class=navbar-start><a class=navbar-item href=/zh/projects/shenyu/download/>下载</a>
<a class=navbar-item href=/zh/projects/shenyu/overview/>文档</a>
<a class=navbar-item href=/zh/community/subscribe-email/>社区</a>
<a class=navbar-item href=/zh/news/>新闻</a>
<span class="navbar-item nav-hover"><a>Links</a><div class=dropdown-menu><a class=dropdown-item href=https://www.apache.org/>Apache Software Foundation</a>
<a class=dropdown-item href=https://github.com/apache/incubator-shenyu/issues>GitHub Issue Tracker</a>
<a class=dropdown-item href=https://www.apache.org/>License</a>
<a class=dropdown-item href=http://www.apache.org/events/current-event>Apache Events</a>
<a class=dropdown-item href=https://www.apache.org/licenses/>Security</a>
<a class=dropdown-item href=http://www.apache.org/foundation/sponsorship.html>Sponsor and Donate</a>
<a class=dropdown-item href=http://www.apache.org/foundation/thanks.html>Thanks</a></div></span></div><div class=navbar-end><div class=navbar-item><div id=js-menu-search class=navbar-search><input class=input placeholder=请输入要搜索的关键词><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div></div><div class=navbar-item></div></div></div></nav></header><div class=ss-layout-container><main class="ss-layout-main -card"><div class=ss-meta><h1 class=title>【发布Apache首个版本-2.4.0】让API网关变得简单</h1><div class=meta>2021-08-01 ·
xiaoyu ·
<span class=tags><a class=tag href=/zh/tags/apache-shenyu/ rel=tag>#Apache ShenYu</a></span></div></div><article class=typo><h2 id=apache-shenyu-incubating-2-4-0-让api网关更简单>【Apache ShenYu(incubating) 2.4.0】: 让API网关更简单</h2><blockquote><p>声明:本文中的<code>Apache ShenYu</code> 都指的是 <code>Apache ShenYu (incubating)</code>
本人作者：肖宇 Apache ShenYu(incubating) Founder &amp;&amp; PPMC
2.4.0 Release Manager ： 张永伦 Apache ShenYu(incubating) PPMC &amp;&amp; Apache ShardingSphere PMC</p></blockquote><p><code>Apache ShenYu</code>网关是原 <code>Dromara/soul</code> 网关捐献给<code>Apache</code>基金会后改名而来，
此次发布的 <code>2.4.0</code> 版本是 <code>Apache ShenYu</code> 网关进入<code>Apache孵化器</code>后的首个版本。这个版本涉及很多新功能的增加，
项目名称,包名以及<code>maven</code>依赖坐标的变更。</p><h2 id=apache-shenyu-是什么>Apache ShenYu 是什么？</h2><p><code>Apache ShenYu</code>是使用<code>Java reactor</code>编程方式开发的，具有<code>异步</code>，<code>高性能</code>，<code>跨语言</code>等特性的 <code>API 网关</code>。
在流量控制方面，有精美的Admin控制台，能够<code>精准</code>，<code>动态</code>控制流量，满足复杂的业务场景。
在功能方面，它使用插件化的设计思想，支持许多常见的协议：如 <code>http/https</code>， <code>Dubbo</code>、 <code>Spring Cloud</code>、 <code>GRPC</code>、 <code>Motan</code>、<code>Sofa</code>、 <code>Tars</code> 等。
同时内置十分丰富的功能插件，如 <code>熔断</code>，<code>限流</code>，<code>鉴权</code>，<code>黑白名单</code>，<code>防火墙</code>，<code>监控</code>，<code>参数更改</code>等等插件。其架构图如下:</p><p><img src=https://shenyu.apache.org/img/architecture/shenyu-framework.png alt></p><h2 id=流量控制>流量控制</h2><p>对流量的控制是网关的灵魂，针对流量控制，<code>Apache ShenYu</code> 设计了<code>选择器</code>，<code>规则</code> 2个概念，来控制流量。</p><p><code>选择器</code>和 <code>规则</code>是 <code>Apache ShenYu</code> 网关中最<code>灵魂</code>的东西。掌握好它，你可以对任何流量进行管理。</p><p>一个插件有多个选择器，一个选择器对应多种规则。选择器相当于是对流量的一级筛选，规则就是最终的筛选。</p><p>对一个插件而言，我们希望根据我们的配置，达到满足条件的流量，插件才会被执行。</p><p>选择器和规则就是为了让流量在满足特定的条件下，才去执行我们想要的，这种规则首先要明白。</p><p>插件、选择器和规则执行逻辑如下，当流量进入到Apache ShenYu网关之后，会先判断是否有对应的插件，该插件是否开启；然后判断流量是否匹配该插件的选择器。</p><p>然后再判断流量是否匹配该选择器的规则。如果请求流量能满足匹配条件才会执行该插件，否则插件不会被执行，处理下一个。</p><p>Apache ShenYu网关就是这样通过层层筛选完成流量控制。其流程图如下 :</p><p><img src=https://shenyu.apache.org/img/shenyu/plugin/plugin-chain-execute.png alt></p><h2 id=流量筛选>流量筛选</h2><p>流量筛选，是<code>选择器</code>和<code>规则</code>的<code>灵魂</code>，对应为选择器与规则里面的匹配条件(conditions)，根据不同的流量筛选规则，我们可以处理各种复杂的场景。</p><p>流量筛选可以从<code>Header</code>, <code>URI</code>, <code>Query</code>, <code>Cookie</code> 等等Http请求获取数据，</p><p>然后可以采用 <code>Match</code>，<code>=</code>，<code>SpEL</code>，<code>Regex</code>，<code>Groovy</code>等匹配方式，匹配出你所预想的数据。</p><p>多组匹配添加可以使用<code>And/Or</code>的匹配策略。上述都是采用<code>SPI的设计思想</code>，用户可以<code>自主进行扩展</code> :更多的请查看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/selector-and-rule/>https://shenyu.apache.org/zh/projects/shenyu/selector-and-rule/</a></p><p>其过程图如下 :</p><p><img src=https://shenyu.apache.org/img/shenyu/design/flow-condition.png alt></p><h2 id=数据同步与缓存>数据同步与缓存</h2><p>为了提升网关的<code>性能</code>，<code>Apache ShenYu</code> 网关会将所有的流量控制规则缓存在<code>JVM</code> 内存里面。在<code>集群部署/分布式</code>场景中，<code>Apache ShenYu</code> 自主研发了一套 <code>将 Admin 控制台的数据，远程同步到每一个 Apache ShenYu 网关节点 JVM内存 的方案</code>。</p><p>每一种方案，采用 <code>SPI</code> 设计思想，以供用户<code>灵活</code>的选择。目前支持的方案有 <code>HttpLongPull</code>, <code>Websocket</code>, <code>Zookeeper</code>, <code>Nacos</code>, <code>Consul</code>, <code>ETCD</code>。 其整体流程如下 :</p><p><img src=https://shenyu.apache.org/img/shenyu/dataSync/config-strategy-processor-zh.png alt></p><h2 id=admin控制台>Admin控制台</h2><p>为了方便用户快速便捷的控制流量以及网关的所有功能特性，<code>Apache ShenYu</code> 提供了 一个十分精美的<code>Admin控制台</code>，用户可以<code>中英文切换</code>,在这上面，可以随意的<code>控制流量</code>，<code>启停插件</code>，<code>配置不同的参数与策略</code>，这些操作更改通过上述的<code>数据同步原理</code>，同步到网关的 <code>JVM内存</code>。其后台示意图如下:
<img src=https://shenyu.apache.org/img/community/admin.png alt></p><h5 id=菜单-数据权限>菜单/数据权限</h5><p>网关的后台管理是十分重要的，为了针对企业级的用户，跨部门应用代理，<code>Apache ShenYu</code>设计了一整套的<code>权限控制体系</code>，它包含<code>按钮级别的菜单权限</code>，以及<code>行数据级别的数据权限</code>。并且这些权限控制在 <code>Admin控制台</code> 自主自动可配。</p><p><img src=https://shenyu.apache.org/img/community/admin-permission.png alt></p><h2 id=协议代理>协议代理</h2><p>协议代理是网关最核心的功能，目前 <code>Apache ShenYu</code> 支持 <code>http</code> 转成 <code>http/https</code>， <code>Websocket</code>,<code>Dubbo</code>、 <code>Spring Cloud</code>、 <code>GRPC</code>、 <code>Motan</code>、<code>Sofa</code>、 <code>Tars</code> 等协议的转换，未来将支持 <code>TCP</code>, <code>MQTT</code>,<code>MQTT</code> 等协议。</p><h4 id=divide插件>Divide插件</h4><p><code>Divide</code>插件,是用来专门代理 <code>http/https/websocket</code> 等方式请求 <code>Apache ShenYu</code> 网关的插件。 它具有 <code>负载均衡</code>，<code>流量预热</code>, <code>节点发现</code>，<code>超时重试</code>，<code>超时控制</code> 等功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt;<code>Divide插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/http-proxy/>https://shenyu.apache.org/zh/projects/shenyu/http-proxy/</a></p><pre><code class=language-xml>&lt;dependency&gt;
    &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
    &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-divide&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
    &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-httpclient&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=dubbo插件>Dubbo插件</h4><p><code>Dubbo</code>插件，是<code>Apache ShenYu</code>网关将 <code>http/https</code> 请求转换成 <code>dubbo</code>协议的插件 。 它采用了<code>Dubbo泛化</code>调用的机制，整合了 <code>Dubbo的客户端</code>，具有<code>服务发现</code>，<code>负载均衡</code> 等功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>dubbo插件</code>将其设置为 <code>开启</code>,并且配置上<code>注册中心</code>, 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/dubbo-proxy/>https://shenyu.apache.org/zh/projects/shenyu/dubbo-proxy/</a></p><pre><code class=language-xml> &lt;!-- apache shenyu alibaba dubbo plugin start--&gt;
 &lt;dependency&gt;
   &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
   &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-alibaba-dubbo&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
 &lt;/dependency&gt;
 &lt;!-- apache shenyu apache dubbo plugin start--&gt;
 &lt;dependency&gt;
   &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
   &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-apache-dubbo&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
 &lt;/dependency&gt;
</code></pre><h4 id=springcloud插件>SpringCloud插件</h4><p><code>SpringCloud</code>插件，是<code>Apache ShenYu</code>网关代理 <code>SpringCloud</code>微服务业务的插件 。 它整合了 <code>SpringCloud</code>的注册中心，以及负载均衡服务，实现了服务的代理。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>SpringCloud插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/spring-cloud-proxy/>https://shenyu.apache.org/zh/projects/shenyu/spring-cloud-proxy/</a></p><pre><code class=language-xml> &lt;dependency&gt;
   &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
   &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-springcloud&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
 &lt;/dependency&gt;
</code></pre><h4 id=grpc插件>GRPC插件</h4><p><code>GRPC</code>插件，是<code>Apache ShenYu</code>网关将 <code>http/https</code> 请求转换成 <code>GRPC</code>协议的插件 。 它整合了 <code>GRPC</code> 客户端，实现了 <code>GRPC</code>服务的代理。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>GRPC插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 :<a href=https://shenyu.apache.org/zh/projects/shenyu/grpc-proxy/>https://shenyu.apache.org/zh/projects/shenyu/grpc-proxy/</a></p><pre><code class=language-xml> &lt;dependency&gt;
   &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
   &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-grpc&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
 &lt;/dependency&gt;
</code></pre><h4 id=tars插件>Tars插件</h4><p><code>Tars</code>插件，是<code>Apache ShenYu</code>网关将 <code>http/https</code> 请求转换成 <code>Tars</code>协议的插件 。 <code>Tars</code>是腾讯开源的 RPC框架， 该插件整合了 <code>Tars-JAVA</code> 客户端，实现了 <code>Tars</code>服务的代理。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>Tars插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/tars-proxy/>https://shenyu.apache.org/zh/projects/shenyu/tars-proxy/</a></p><pre><code class=language-xml>  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
    &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-tars&lt;/artifactId&gt;
     &lt;version&gt;${project.version}&lt;/version&gt;
  &lt;/dependency&gt;
</code></pre><h4 id=sofa插件>Sofa插件</h4><p><code>Sofa</code>插件，是<code>Apache ShenYu</code>网关将 <code>http/https</code> 请求转换成 <code>Sofa-RPC</code>协议的插件 。 它采用了<code>Sofa泛化</code>调用的机制，整合了 <code>Sofa-RPC的客户端</code>，具有<code>服务发现</code>，<code>负载均衡</code> 等功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>sofa插件</code>将其设置为 <code>开启</code>，并且配置上<code>注册中心</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/sofa-proxy/>https://shenyu.apache.org/zh/projects/shenyu/sofa-proxy/</a></p><pre><code class=language-xml>  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
    &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-sofa&lt;/artifactId&gt;
     &lt;version&gt;${project.version}&lt;/version&gt;
  &lt;/dependency&gt;
</code></pre><h2 id=熔断限流>熔断限流</h2><h4 id=hystrix插件>Hystrix插件</h4><p><code>Hystrix</code>插件，是<code>Apache ShenYu</code>网关整合<code>Hystrix</code>框架，提供请求熔断的功能，<code>Hystrix</code>熔断参数可动态化配置。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>Hystrix插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/hystrix-plugin/>https://shenyu.apache.org/zh/projects/shenyu/hystrix-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-hystrix&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=sentinel插件>Sentinel插件</h4><p><code>Sentinel</code>插件，是<code>Apache ShenYu</code>网关整合<code>Sentinel</code>框架，提供请求熔断限流的功能，<code>Sentinel</code>熔断限流参数可动态化配置。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>Sentinel插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/sentinel-plugin/>https://shenyu.apache.org/zh/projects/shenyu/sentinel-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-sentinel&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=resilience4j插件>Resilience4j插件</h4><p><code>Resilience4j</code>插件，是<code>Apache ShenYu</code>网关整合<code>Resilience4j</code>框架，提供请求熔断限流的功能，<code>Resilience4j</code>熔断限流参数可动态化配置。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>Resilience4j插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/resilience4j-plugin/>https://shenyu.apache.org/zh/projects/shenyu/resilience4j-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-resilience4j&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=ratelimiter插件>RateLimiter插件</h4><p><code>RateLimiter</code>插件，是<code>Apache ShenYu</code>网关使用<code>redis</code>，提供请求集群限流的功能，限流算法策略有：<code>令牌桶算法</code>,<code>并发限流</code>，<code>漏桶算法</code>，<code>滑动窗口算法</code>。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>RateLimiter插件</code>将其设置为 <code>开启</code>，并且配置上<code>redis</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/rate-limiter-plugin/>https://shenyu.apache.org/zh/projects/shenyu/rate-limiter-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-ratelimiter&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h2 id=安全-权限认证>安全/权限认证</h2><h4 id=waf插件>Waf插件</h4><p><code>Waf</code>插件，是<code>Apache ShenYu</code>网关，用来对流量实现防火墙，主要用来拦截非法请求，或者异常请求，并且给与相关的拒绝策略，它提供了黑白名单配置的功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>Waf插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/waf-plugin/>https://shenyu.apache.org/zh/projects/shenyu/waf-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-waf&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=sign插件>Sign插件</h4><p><code>Sign</code>插件，是<code>Apache ShenYu</code>网关，用来对请求进行签名认证。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>Sign插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/sign-plugin/>https://shenyu.apache.org/zh/projects/shenyu/sign-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-sign&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=jwt插件>JWT插件</h4><p><code>JWT</code>插件，是<code>Apache ShenYu</code>网关，是针对 <code>http</code> 请求头的 <code>token</code> 属性或者是 <code>authorization</code> 属性携带值进行鉴权判断，兼容 <code>OAuth2.0</code>。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>jwt插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/jwt-plugin/>https://shenyu.apache.org/zh/projects/shenyu/jwt-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-jwt&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=oauth2插件>OAuth2插件</h4><p><code>OAuth2</code>插件，是<code>Apache ShenYu</code>网关，使用 <code>Webflux OAuth2</code>客户端实现，用于支持 <code>OAuth2</code> 协议。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>oauth2插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/oauth2-plugin/>https://shenyu.apache.org/zh/projects/shenyu/oauth2-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-oauth2&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h2 id=个性化处理>个性化处理</h2><h4 id=rewrite插件>Rewrite插件</h4><p><code>Rewrite</code>插件，是<code>Apache ShenYu</code>网关，支持使用正则表达式来重写<code>URI</code>的插件。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>rewrite插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/rewrite-plugin/>https://shenyu.apache.org/zh/projects/shenyu/rewrite-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-rewrite&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=redirect插件>Redirect插件</h4><p><code>Redirect</code>插件，是<code>Apache ShenYu</code>网关，将请求进行重定向的插件，支持网关内部接口与外部地址。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>redirect插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/redirect-plugin/>https://shenyu.apache.org/zh/projects/shenyu/redirect-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-redirect&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=request插件>Request插件</h4><p><code>Request</code>插件，是<code>Apache ShenYu</code>网关容许用户对<code>请求参数</code>、<code>请求头</code> 以及 <code>Cookie</code> 进行<code>添加</code>、<code>修改</code>、<code>删除</code>等功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>request插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/request-plugin/>https://shenyu.apache.org/zh/projects/shenyu/request-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-request&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=context-path插件>Context-Path插件</h4><p><code>Context-Path</code>插件，是<code>Apache ShenYu</code>网关，容许用户对请求路径上的 <code>Context-Path</code>,进行 <code>添加</code>、<code>修改</code>、<code>删除</code>等功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>context_path插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/context-path-plugin/>https://shenyu.apache.org/zh/projects/shenyu/context-path-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-context-path&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=param-mapping插件>Param-Mapping插件</h4><p><code>Param-Mapping</code>插件，是<code>Apache ShenYu</code>网关，容许用户对请求体中的 <code>Body</code>,进行 <code>添加</code>、<code>修改</code>、<code>删除</code>字段等功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>param_mapping插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/param-mapping-plugin/>https://shenyu.apache.org/zh/projects/shenyu/param-mapping-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-param-mapping&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=modifyresponse插件>ModifyResponse插件</h4><p><code>ModifyResponse</code>插件，是<code>Apache ShenYu</code>网关，用来对请求响应体中的 <code>响应头</code>,<code>状态码</code>，<code>响应内容</code>,进行 <code>添加</code>、<code>修改</code>、<code>删除</code>等功能。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>modifyResponse插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/modify-response-plugin/>https://shenyu.apache.org/zh/projects/shenyu/modify-response-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-modify-response&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h2 id=可观测性>可观测性</h2><h4 id=monitor插件>Monitor插件</h4><p><code>Monitor</code>插件，是<code>Apache ShenYu</code>网关，使用 <code>prometheus</code>来完成对<code>请求量</code>，<code>QPS</code>, <code>JVM</code>等相关<code>metrics</code>进行监控的插件。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>monitor插件</code>将其设置为 <code>开启</code>, 并且配置 <code>prometheus</code>相关参数。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/monitor-plugin/>https://shenyu.apache.org/zh/projects/shenyu/monitor-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-monitor&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4 id=logging插件>Logging插件</h4><p><code>Monitor</code>插件，是<code>Apache ShenYu</code>网关，容许用户日志中打印本次<code>请求信息</code>，包含 <code>请求路径</code>、<code>请求方法</code>、<code>请求参数</code> 、<code>响应头</code>、<code>响应体</code>等信息。用户想要使用它，请在网关添加如下依赖， 然后在 <code>Admin控制台</code> &ndash;&gt; <code>插件管理</code> &ndash;&gt; <code>logging插件</code>将其设置为 <code>开启</code>。 更详细的介绍请看 : <a href=https://shenyu.apache.org/zh/projects/shenyu/logging-plugin/>https://shenyu.apache.org/zh/projects/shenyu/logging-plugin/</a></p><pre><code class=language-xml>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.shenyu&lt;/groupId&gt;
  &lt;artifactId&gt;shenyu-spring-boot-starter-plugin-logging&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h2 id=下一个版本规划>下一个版本规划</h2><ul><li><p>RPC框架灰度发布增强，包含 <code>SpringCloud</code>，<code>GRPC</code>，<code>Dubbo</code>，<code>Sofa-RPC</code>，<code>Tars</code>等。</p></li><li><p>新增<code>ShenYu-Agent</code>模块，打造网关<code>metrics</code>, <code>tracing</code>, <code>logging</code> 等可观测性体系。</p></li><li><p>自定义插件动态加载，方便用户快速，不停机扩展与更新。</p></li><li><p>集成测试 + 单元测试 全面覆盖。</p></li></ul><h2 id=社区>社区</h2><p><code>Apache ShenYu</code> 是完全由国人主导的自主性社区开源项目，目前处在高速发展时期，
<code>功能开发</code>，<code>文档完善</code>，<code>BUG修复</code> 等大量的事情需要完成。
<code>Apache ShenYu</code> 社区遵循 <code>Apache Way</code>的社区理念，打造一个<code>完全开放</code>，<code>治理</code>的社区。
每半个月，会进行一次全体社区会议，社区的committers,contributors, users都会参与其中，
在会议上大家可以畅所欲言，提出自己的观点和看法，比如对不同的功能，不同的代码进行讨论，最好达成一致性的观点。
在Apache ShenYu 社区中，我们推崇邮件列表 &gt; Github Issue &gt; 微信群的沟通优先级的原则。
主要的目的是让每一个问题，没一个观点，都有记录存档，更好的帮助他人，以推进社区的可持续发展。</p></article><div class=-show-mobile><nav class=ss-pagination-next><a class=link-prev href=/zh/news/shenyu-2.3.0/><span class=text>上一篇:</span>
<span class=text>【Soul 网关发布里程碑的2.3.0版本】新增支持GRPC，Tars，Sofa协议</span></a></nav></div></main><aside class=ss-layout-aside><div class=ss-card><h2 class=card-title>相关推荐</h2><ul class=ss-aside-related><li><a href=/zh/news/shenyu-2.3.0/>【Soul 网关发布里程碑的2.3.0版本】新增支持GRPC，Tars，Sofa协议</a></li></ul></div><div class="ss-aside-tags ss-card"><h2 class=card-title>标签
<span class=card-extra></span></h2><ul class=tag-list><li class=tag><a href=/zh/tags/apache-shenyu/>Apache ShenYu</a></li><li class=tag><a href=/zh/tags/code-conduct/>Code Conduct</a></li><li class=tag><a href=/zh/tags/committer/>Committer</a></li><li class=tag><a href=/zh/tags/contributor/>Contributor</a></li><li class=tag><a href=/zh/tags/contributorlist/>ContributorList</a></li><li class=tag><a href=/zh/tags/dreamcode/>DreamCode</a></li><li class=tag><a href=/zh/tags/gateway/>GateWay</a></li><li class=tag><a href=/zh/tags/icla/>ICLA</a></li><li class=tag><a href=/zh/tags/issue-pr/>Issue-PR</a></li><li class=tag><a href=/zh/tags/shenyu/>ShenYu</a></li><li class=tag><a href=/zh/tags/subscribe-email/>Subscribe-Email</a></li><li class=tag><a href=/zh/tags/two-fa/>Two-FA</a></li><li class=tag><a href=/zh/tags/userlist/>UserList</a></li><li class=tag><a href=/zh/tags/vote-committer/>Vote-Committer</a></li></ul></div></aside></div><footer class=ss-footer><div class=container><div class=links><div class="cate  -show-mobile"><h2 class=cate-title>Apache</h2><a class=link href=https://www.apache.org/>Foundation</a>
<a class=link href=https://github.com/apache/incubator-shenyu/issues>GitHub Issue Tracker</a>
<a class=link href=https://www.apache.org/licenses/>License</a>
<a class=link href=https://www.apache.org/security/>Security</a>
<a class=link href=http://www.apache.org/events/current-event>Events</a>
<a class=link href=http://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
<a class=link href=http://www.apache.org/foundation/thanks.html>Thanks</a></div><div class=cate><h2 class=cate-title>资源</h2><a class=link href=https://github.com/apache/incubator-shenyu>Github</a>
<a class=link href=/zh/projects/shenyu/overview/>文档</a></div><div class=cate><h2 class=cate-title>参与进来</h2><a class=link href=https://github.com/apache/incubator-shenyu/issues/new>反馈</a>
<a class=link href=/zh/community>社区</a>
<a class=link href=/zh/news>新闻</a></div><div class=cate><h2 class=cate-title>订阅邮件组</h2><a class=link href=/zh/community/subscribe-email/>如何订阅</a>
<a class=link href=mailto://dev-subscribe@shenyu.apache.org>订阅邮件</a>
<a class=link href=https://lists.apache.org/list.html?dev@shenyu.apache.org>邮件归档</a></div></div><div class=qrcode><div><img class=qrcode-img src=/img/qrcode/WechatIMG127.jpeg><p class=qrcode-desc>微信公众号</p></div></div></div><div class=copyright><p>Copyright © 2021 The Apache Software Foundation. Licensed under the Apache License, Version 2.0.
Apache ShenYu, Apache Incubator, Apache, the Apache feather logo, the Apache ShenYu logo and the Apache Incubator project logo are trademarks of The Apache Software Foundation.
Apache ShenYu is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator.
Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects.
While incubation status is not necessarily a reflection of the completeness or stability of the code,
it does indicate that the project has yet to be fully endorsed by the ASF.</p></div></footer></body></html>